jQuery(document).ready(function(){function f(){a("#cancel,#status a, #close a").bind("click",function(){parent.jQuery.fn.colorbox.close();return!1});var b={};b._ajax_nonce=a("#_wpnonce").val();b.cid=parseInt(a("#commentID").val());b.pid=parseInt(a("#postID").val());b.action=a("#action").val();a("#send-request").bind("click",function(){g(b);return!1});a("#status").show();a("#status").attr("class","success");a("#message").html(wpajaxeditcommentedit.AEC_Ready)}function g(b){a("#status").attr("class", "success");a("#message").html(wpajaxeditcommentedit.AEC_Blacklisting);a("#send-request").attr("disabled","disabled");var d="",e=a("input:checked").length;a.each(a("input:checked"),function(){e-=1;d+=a(this).val();e>0&&(d+=",")});b=a.extend(b,{parameters:d});jQuery.post(ajaxurl,b,function(c){a("#send-request").removeAttr("disabled");typeof c.error!="undefined"?(a("#status").attr("class","error"),a("#message").html(c.error)):(self.parent.jQuery("#edit-comment-admin-links"+ b.cid).html(c.comment_links),self.parent.jQuery(".spam-count").html(c.spam_count),self.parent.jQuery(".pending-count").html(c.moderation_count),a("#send-request,#cancel").remove(),a("#message").html(c.message))},"json")}var a=jQuery;a.ajaxblacklistcomment={init:function(){jQuery(".blacklist").length<=0||f()}};a("body").attr("style","display: block;");a.ajaxblacklistcomment.init()});