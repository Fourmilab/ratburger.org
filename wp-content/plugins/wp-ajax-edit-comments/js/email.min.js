jQuery(document).ready(function(){function d(){a("#cancel,#status a, #close a").bind("click",function(){parent.jQuery.fn.colorbox.close();return!1});a("#send").bind("click",function(){a("#to, #from, #subject, #message, #status").removeClass("error");a("#status_message").html("");var b;wpajaxeditcommentedit.AEC_AftertheDeadline=="true"&&a(".AtD_edit_button").trigger("click");b=a.trim(a("input[name='to']").attr("value"));var e=a.trim(a("select[name='from']").attr("value")),f=a.trim(a("#subject").attr("value")), g=a.trim(a("#message").attr("value")),c=!1;b==""&&(a("#to").addClass("error"),c=!0);e==""&&(a("#from").addClass("error"),c=!0);f==""&&(a("#subject").addClass("error"),c=!0);g==""&&(a("#message").addClass("error"),c=!0);c?(a("#status").removeClass(),a("#status").addClass("error"),a("#status_message").html(wpajaxeditcommentedit.AEC_fieldsrequired),b=!1):b=!0;b&&h()})}function h(){var b=a("#_wpnonce").attr("value"),e=parseInt(a("#commentID").attr("value")),f=parseInt(a("#postID").attr("value")),g=a("#action").attr("value"), c=encodeURIComponent(a.trim(a("#to").attr("value"))),d=encodeURIComponent(a.trim(a("#from").attr("value"))),h=encodeURIComponent(a.trim(a("#subject").attr("value"))),i=encodeURIComponent(a.trim(a("#message").attr("value")));a("#status").show();a("#status").attr("class","success");a("#status_message").html(wpajaxeditcommentedit.AEC_Sending);jQuery.post(ajaxurl,{_ajax_nonce:b,action:g,cid:e,pid:f,to:c,from:d,subject:h,message:i},function(b){typeof b.error!="undefined"?(a("#status").removeClass(), a("#status").addClass("error"),a("#to").addClass("error"),a("#status_message").html(wpajaxeditcommentedit.AEC_emailaddresserror)):(a("#status_message").html(wpajaxeditcommentedit.AEC_Sent),parent.jQuery.fn.colorbox.close())},"json")}var a=jQuery;a.ajaxemail={init:function(){if(!(jQuery("body.email").length<=0)&&(d(),wpajaxeditcommentedit.AEC_AftertheDeadline!="false")){AtD.rpc_css_lang=wpajaxeditcommentedit.AEC_AftertheDeadline_lang;a("#message").addProofreader();var b=a("#AtD_0").clone(!0);a("#AtD_0").remove(); a("#edit_options").append(b)}}};a.ajaxemail.init();a("body").attr("style","display: block;")});