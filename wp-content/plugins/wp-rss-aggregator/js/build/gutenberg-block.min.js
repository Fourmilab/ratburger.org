!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){!function(){e.exports=this.wp.components}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(3),a=n(4),s=n(5),u=n(0),p=n(6),c=n(7),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(e){function t(n){r(this,t);var i=o(this,e.apply(this,arguments));return i.props=n,i.state={tokens:[],loading:!1,items:[]},i}return i(t,e),t.prototype.componentDidMount=function(){var e=this;this.setState({loading:!0}),jQuery.post(WPRA_BLOCK.ajax_url,{action:"wprss_fetch_items"},function(t){t=JSON.parse(t),e.setState({loading:!1,items:t.items})})},t.prototype.render=function(){var e=this.setState.bind(this),t=this.props.onChange,n=this.state.items;return this.state.loading?wp.element.createElement(u.Placeholder,null,wp.element.createElement(u.Spinner,null)):wp.element.createElement(u.BaseControl,{help:this.props.help||""},wp.element.createElement(u.FormTokenField,{label:this.props.label||"",placeholder:this.props.placeholder||"",value:this.props.value.map(function(e){return n.find(function(t){return t.value===e})}).filter(function(e){return!!e}),suggestions:this.state.items.map(function(e){return e.toLocaleLowerCase=function(){return e.title.toLocaleLowerCase()},e.toString=function(){return e.title},e}),displayTransform:function(e){return"number"==typeof e&&(e=n.find(function(t){return t.value===e})),"object"===(void 0===e?"undefined":b(e))?e.title:e},saveTransform:function(e){return e},onChange:function(n){e({tokens:n}),t(n.map(function(e){return e.value}))}}))},t}(c.Component),m=f;n(2);var g=WPRA_BLOCK.templates[0],d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return g[e]?t(g[e]):n},h={},y=!1;Object(a.registerBlockType)("wpra-shortcode/wpra-shortcode",{title:Object(l.__)("WP RSS Aggregator Feeds"),description:Object(l.__)("Display feed items imported using WP RSS Aggregator."),icon:"rss",category:"widgets",supportHTML:!1,attributes:Object(p.applyFilters)("wpra.gutenbergBlock.attributes",{isAll:{type:"boolean",default:!0},template:{type:"string",default:"default"},pagination:{type:"boolean",default:!0},limit:{type:"number"},page:{type:"number"},exclude:{type:"string"},source:{type:"string"}}),edit:function(e){!y&&e.attributes.template&&(g=WPRA_BLOCK.templates.find(function(t){return t.value===(e.attributes.template||"default")}),parseInt(e.attributes.limit)!==d("limit",parseInt)&&(h.limit=!0),!!e.attributes.pagination!==d("pagination",function(e){return!!e},!1)&&(h.pagination=!0),y=!0);var t=WPRA_BLOCK.is_et_active?wp.element.createElement("p",{style:{fontStyle:"italic"}},"Excerpts & Thumbnails is incompatible with the WP RSS Aggregator Feeds block. ",wp.element.createElement("a",{href:"https://kb.wprssaggregator.com/article/459-using-excerpts-thumbnails-with-templates",target:"_blank"},"Learn more"),"."):null,n=Object(p.applyFilters)("wpra.gutenbergBlock.panels",[wp.element.createElement(u.PanelBody,{title:Object(l.__)("Feed Sources"),initialOpen:!0},Object(p.applyFilters)("wpra.gutenbergBlock.panelItems",[wp.element.createElement(u.ToggleControl,{label:Object(l.__)("Show all Feed Sources "),checked:e.attributes.isAll,onChange:function(t){e.setAttributes({isAll:t}),e.setAttributes({exclude:""}),e.setAttributes({source:""})}}),wp.element.createElement(m,{label:e.attributes.isAll?Object(l.__)("Feed Sources to Exclude"):Object(l.__)("Feed Sources to Show"),key:"select",help:Object(l.__)("Start typing to search feed sources by name"),value:((e.attributes.isAll?e.attributes.exclude:e.attributes.source)||"").split(",").map(function(e){return parseInt(e)}),onChange:function(t){if(t=t.join(","),e.attributes.isAll)return e.setAttributes({exclude:t}),void e.setAttributes({source:""});e.setAttributes({exclude:""}),e.setAttributes({source:t})}})],"feedSources",{props:e})),wp.element.createElement(u.PanelBody,{title:Object(l.__)("Display Options"),initialOpen:!1},Object(p.applyFilters)("wpra.gutenbergBlock.panelItems",[wp.element.createElement(u.SelectControl,{label:Object(l.__)("Select Template"),value:e.attributes.template,onChange:function(t){g=WPRA_BLOCK.templates.find(function(e){return e.value===t}),e.setAttributes({template:t||""}),h.limit||e.setAttributes({limit:d("limit",parseInt,15)}),h.pagination||e.setAttributes({pagination:d("pagination",function(e){return!!e},!1)})},options:WPRA_BLOCK.templates}),wp.element.createElement(u.TextControl,{label:Object(l.__)("Feed Limit"),help:Object(l.__)("Number of feed items to display"),placeholder:d("limit",parseInt),type:"number",min:1,value:e.attributes.limit||d("limit",parseInt),onChange:function(t){h.limit=!0,e.setAttributes({limit:parseInt(t)||d("limit",parseInt)})}}),wp.element.createElement(u.ToggleControl,{label:Object(l.__)("Show Pagination "),checked:e.attributes.pagination,onChange:function(t){h.pagination=!0,e.setAttributes({pagination:t})}}),wp.element.createElement(u.TextControl,{label:Object(l.__)("Page"),placeholder:Object(l.__)("1"),type:"number",min:1,value:e.attributes.page||1,onChange:function(t){e.setAttributes({page:parseInt(t)||1})}}),t],"displayOptions",{props:e}))],{props:e});return wp.element.createElement("div",null,wp.element.createElement(u.ServerSideRender,{block:"wpra-shortcode/wpra-shortcode",attributes:e.attributes,className:"wpra-gutenberg-block"}),Object(p.applyFilters)("wpra.gutenbergBlock.before",[],{props:e}),wp.element.createElement(s.InspectorControls,null,n),Object(p.applyFilters)("wpra.gutenbergBlock.after",[],{props:e}))},save:function(e){return null}})},function(e,t){},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.editor}()},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t){!function(){e.exports=this.wp.element}()}]);